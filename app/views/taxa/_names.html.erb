<h3>Classification</h3>
<table class="table table-condensed taxonomy-tree">
  <% taxon.taxonomy_tree.each do |taxon|%>
    <tr>
    <td>
      <%= taxon[:name] %>
    </td>
    <td>
    <% if taxon[:id] %>
      <%= link_to taxon[:value], taxon_path(id: taxon[:id]) %>
    <% else %>
      <%= taxon[:value] %>
    <% end %>
  </td>
    </tr>
  <% end %>
</table>

<% if taxon.taxonomicStatus %>
  <p>Taxonomic status: <%= taxon.taxonomicStatus %></p>
<% end %>
<% if taxon.acceptedNameUsageID %>
  <p>Accepted name: <%= link_to taxon.accepted_taxon.canonicalName, taxon_path(taxon.accepted_taxon) %></p>
<% end %>

<p class='data-source'>
  Classification Source: <%= link_to taxon.taxa_dataset.name, taxon.taxa_dataset.url %><br>
  <%= taxon.taxa_dataset.citation %>
</p>

<% if taxon.vernaculars.present? %>
  <h3>Common Names</h3>
  <table class="table table-condensed ">
    <tr>
      <th>Name</th>
      <th>Type</th>
    </tr>

    <% taxon.vernaculars.each do |vernacular|%>
      <tr>
        <td><%= vernacular.name %></td>
        <td><%= vernacular.name_class %></td>
      </tr>
    <% end %>
  </table>
  <p class='data-source'>
    Common Names Source: <%= link_to NcbiNode.taxa_dataset.name, NcbiNode.taxa_dataset.url %><br>
    <%= NcbiNode.taxa_dataset.citation %>
  </p>
<% end%>

<% if taxon.synonyms.present? %>
  <h3>Scientific Names</h3>
  <table class="table table-condensed ">
    <tr>
      <th>Name</th>
      <th>Type</th>
    </tr>

    <% taxon.synonyms.each do |synonym|%>
      <tr>
        <td><%= link_to synonym.name, taxon_path(taxonID: synonym.taxon_id) %></td>
        <td><%= synonym.name_class %></td>
      </tr>
    <% end %>
  </table>
  <p class='data-source'>
    Scientific Names Source: <%= link_to TaxaDataset.gbif_backbone.name, TaxaDataset.gbif_backbone.url %><br>
    <%= TaxaDataset.gbif_backbone.citation %>
  </p>
<% end %>
